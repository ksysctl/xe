(this.webpackJsonpxe=this.webpackJsonpxe||[]).push([[0],[,,,,,,,,,function(t,e,a){t.exports=a.p+"static/media/logo.c8582efa.svg"},,function(t){t.exports=JSON.parse('{"success":true,"query":{"from":"USD","to":"CRC","amount":10},"info":{"timestamp":1519328414,"rate":573.463},"historical":"","date":"2020-04-10","result":5734.57}')},function(t){t.exports=JSON.parse('{"success":true,"symbols":{"USD":"United States Dollar","CRC":"Costa Rican Col\xf3n"}}')},function(t,e,a){t.exports=a(21)},,,,,function(t,e,a){},,function(t,e,a){},function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),o=a(8),s=a.n(o),i=a(1),c=a(4),l=a(3),u=a(2),m=a(9),p=a.n(m),h=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){return Object(i.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var t=this.props.title;return n.a.createElement("header",{className:"App-header"},n.a.createElement("img",{src:p.a,className:"App-logo",alt:"logo"}),n.a.createElement("p",null,t),n.a.createElement("a",{className:"App-link",href:"https://fixer.io",target:"_blank",rel:"noopener noreferrer"},"XE uses fixer.io API"))}}]),a}(n.a.Component),d=a(6),f=a(10),v=a(5),b=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).setErrorClass=function(){return t.props.validations?"is-invalid":"is-valid"},t}return a}(n.a.Component),E=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){return Object(i.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"col-md-4 mb-3"},n.a.createElement("label",{htmlFor:this.props.id},this.props.display),n.a.createElement("select",{name:this.props.id,id:this.props.id,value:this.props.value,onChange:this.props.action,required:!0,className:"form-control ".concat(this.setErrorClass())},this.props.options),n.a.createElement("div",{className:"invalid-feedback"},this.props.validations))}}]),a}(b),g=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){return Object(i.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"col-md-4 mb-3"},n.a.createElement("label",{htmlFor:this.props.id},this.props.display),n.a.createElement("input",{type:"number",name:this.props.id,id:this.props.id,value:this.props.value,placeholder:this.props.placeholder,onChange:this.props.action,required:!0,className:"form-control ".concat(this.setErrorClass())}),n.a.createElement("div",{className:"invalid-feedback"},this.props.validations))}}]),a}(b),y=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).setErrorClass=function(){return t.props.validations||!t.props.clicked?"d-none":""},t}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"center-block ".concat(this.setErrorClass())},n.a.createElement("ul",{className:"list-group list-group-flush"},n.a.createElement("li",{className:"list-group-item font-weight-bold"},n.a.createElement("span",{className:"result-md"},this.props.amount," ",this.props.from," = "),n.a.createElement("span",{className:"result-lg"},this.props.result," "),n.a.createElement("span",{className:"result-md"},this.props.to)),n.a.createElement("li",{className:"list-group-item font-weight-bold"},n.a.createElement("span",{className:"result-sm"},"1 ",this.props.from," = ",this.props.rate," ",this.props.to)),n.a.createElement("li",{className:"list-group-item"},n.a.createElement("small",{className:"text-muted"},"Last updated: ",this.props.timestamp))))}}]),a}(n.a.Component),j=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).setErrorClass=function(){return t.props.error?"":"d-none"},t}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"alert alert-warning center-block ".concat(this.setErrorClass()),role:"alert"},this.props.error)}}]),a}(n.a.Component),O=a(11),S=a(12),C="https://data.fixer.io/api/",k="f1b1366b496bedfeeecb78075a2d1c3d",N=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(i.a)(this,a),(r=e.call(this,t)).setAPIError=function(){var t="Currencies no available";r.setState((function(e){var a=Object(f.a)({},e.validations);return a.from=t,a.to=t,{validations:a}}))},r.onChange=function(t){r.setState(Object(d.a)({},t.target.name,t.target.value))},r.onChangeNumeric=function(t){r.onChange(t);var e=t.target.value,a=Object.assign({},r.state);a.validations.amount=e?e<=0?"Amount must be positive":"":"Amount is required"},r.onSubmit=function(t){fetch("".concat(C).concat("convert","?access_key=").concat(k,"&from=").concat(r.state.from,"&to=").concat(r.state.to,"&amount=").concat(r.state.amount)).then((function(t){return t.json()})).then((function(t){t&&!t.success&&105===t.error.code&&(t=O,r.setState({error:"Using mock response due to API limitations"})),t&&t.success?(r.setState({amount:new Intl.NumberFormat("en-US").format(t.query.amount)}),r.setState({from:t.query.from}),r.setState({to:t.query.to}),r.setState({result:new Intl.NumberFormat("en-US").format(t.result)}),r.setState({rate:new Intl.NumberFormat("en-US").format(t.info.rate)}),r.setState({timestamp:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(t.info.timestamp)}),r.setState({clicked:!0})):t?(r.setState({error:t.error.info}),r.setAPIError()):(r.setState({error:"Failed to load response data"}),r.setAPIError())}),(function(t){r.setState({error:t.toString()}),r.setAPIError()})),t.preventDefault()},r.state={clicked:!1,amount:1,from:"CRC",to:"USD",result:"",timestamp:"",rate:"",currencies:[],error:"",validations:{amount:"",from:"",to:""}},r.onChange=r.onChange.bind(Object(v.a)(r)),r.onSubmit=r.onSubmit.bind(Object(v.a)(r)),r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var t=this;fetch("".concat(C).concat("symbols","?access_key=").concat(k)).then((function(t){return t.json()})).then((function(e){e&&!e.success&&105===e.error.code&&(e=S,t.setState({error:"Using mock response due to API limitations"})),e&&e.success?(t.setState({currencies:Object.keys(e.symbols).map((function(t){return{value:t,name:e.symbols[t]}}))}),t.setState({options:t.state.currencies.map((function(t){return n.a.createElement("option",{key:t.value,value:t.value},t.name)}))})):e?(t.setState({error:e.error.info}),t.setAPIError()):(t.setState({error:"Failed to load response data"}),t.setAPIError())}),(function(e){t.setState({error:e.toString()}),t.setAPIError()}))}},{key:"render",value:function(){return n.a.createElement("form",{onSubmit:this.onSubmit},n.a.createElement("div",{className:"form-row"},n.a.createElement(g,{action:this.onChangeNumeric,display:"Amount",placeholder:"Enter amount",id:"amount",value:this.state.amount,validations:this.state.validations.amount}),n.a.createElement(E,{action:this.onChange,display:"From",id:"from",value:this.state.from,options:this.state.options,validations:this.state.validations.from}),n.a.createElement(E,{action:this.onChange,display:"To",id:"to",value:this.state.to,options:this.state.options,validations:this.state.validations.to}),n.a.createElement("button",{className:"btn btn-primary btn-lg btn-block",type:"submit"},"Convert")),n.a.createElement(y,{timestamp:this.state.timestamp,rate:this.state.rate,result:this.state.result,to:this.state.to,from:this.state.from,amount:this.state.amount,clicked:this.state.clicked,validations:this.state.validations.amount}),n.a.createElement(j,{error:this.state.error}))}}]),a}(n.a.Component),A=(a(18),function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){return Object(i.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var t=this.props.header;return n.a.createElement("div",{className:"App"},n.a.createElement(h,{title:t}),n.a.createElement(N,null))}}]),a}(n.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(19),a(20);s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(A,{header:"Exchange rate app."})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[13,1,2]]]);
//# sourceMappingURL=main.5c1474d9.chunk.js.map